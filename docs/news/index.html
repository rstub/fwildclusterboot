<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Changelog • fwildclusterboot</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Changelog" />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-news">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fwildclusterboot</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.8</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/fwildclusterboot.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Calling_WildBootTests_jl_through_fwildclusterboot.html">Calling WildBootTests.jl through fwildclusterboot</a>
    </li>
    <li>
      <a href="../articles/WildBootTests.html">Calling WildBootTests.jl through fwildclusterboot</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/s3alfisc/fwildclusterboot/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href='https://github.com/s3alfisc/fwildclusterboot/blob/master/NEWS.md'><code>NEWS.md</code></a></small>
    </div>

    <div id="fwildclusterboot-08" class="section level1">
<h1 class="page-header" data-toc-text="0.8">
<a href="#fwildclusterboot-08" class="anchor"></a>fwildclusterboot 0.8<small> Unreleased </small>
</h1>
<div id="wildboottestsjl" class="section level2">
<h2 class="hasAnchor">
<a href="#wildboottestsjl" class="anchor"></a>WildBootTests.jl</h2>
<ul>
<li>
<code>fwildclusterboot</code> now supports calling <code>WildBootTests.jl</code>, which is a very fast Julia implementation of the wild cluster bootstrap algorithm. To do so, a new function argument is introduced, <code>boot_algo</code>, through which the user can choose if she wants to run the fast wild cluster bootstrap via R or Julia.</li>
<li>WildBootTests.jl is (after compilation) orders of magnitudes faster than <code>fwildclusterboot's</code> native R implementation, and speed gains are particularly pronounced for large problems with a large number of clusters and many bootstrap iterations.</li>
<li>Furthermore, <code>WildBootTests.jl</code> supports a range of models and tests that were previously not supported by <code>fwildclusterboot</code>: most importantly a) wild cluster bootstrap tests of multiple joint hypotheses and b) the WRE bootstrap by Davidson &amp; MacKinnon for instrumental variables estimation. On top of the cake … WRE is really fast.</li>
</ul>
</div>
</div>
    <div id="fwildclusterboot-07" class="section level1">
<h1 class="page-header" data-toc-text="0.7">
<a href="#fwildclusterboot-07" class="anchor"></a>fwildclusterboot 0.7<small> 2022-01-03 </small>
</h1>
<ul>
<li>Bug fixes, see issues <a href="https://github.com/s3alfisc/fwildclusterboot/issues/26"><a href='https://github.com/s3alfisc/fwildclusterboot/issues/26'>#26</a></a> and <a href="https://github.com/s3alfisc/fwildclusterboot/issues/27"><a href='https://github.com/s3alfisc/fwildclusterboot/issues/27'>#27</a></a> regarding preprocessing for fixest when weights are passed to feols() as a formula or when cluster is specified in fixest as a column vector.</li>
</ul>
</div>
    <div id="fwildclusterboot-06" class="section level1">
<h1 class="page-header" data-toc-text="0.6">
<a href="#fwildclusterboot-06" class="anchor"></a>fwildclusterboot 0.6<small> Unreleased </small>
</h1>
<ul>
<li><p>Bug fix: for one-sided hypotheses for the WRU bootstrap (if impose_null = FALSE), the returned p-values were incorrect - they were reported as ‘p’, but should have been ‘1-p’. E.g. if the reported p-values was reported as 0.4, it should have been reported as 0.6.</p></li>
<li><p>A new function argument <code>ssc</code> gives more control over the small sample adjustments made within <code><a href="../reference/boottest.html">boottest()</a></code>. It closely mirrors the <code>ssc</code> argument in <code>fixest</code>. The only difference is that <code>fwildclusterboot::boot_ssc()'s</code> <code>fixef.K</code> argument currently has only one option, <code>'none'</code>, which means that the fixed effect parameters are discarded when calculating the number of estimated parameters k. The default argument of <code><a href="../reference/boot_ssc.html">boot_ssc()</a></code> are <code>adj = TRUE, fixef.K = "none", cluster.adj = TRUE</code> and <code>cluster.df = "conventional"</code>. In fixest, the <code>cluster.df</code> argument is <code>"min"</code> by default. Prior to v 0.6, by default, no small sample adjustments regarding the sample size N and the number of estimated parameters k were applied. The changes in v0.6 may slightly affect the output of <code><a href="../reference/boottest.html">boottest()</a></code>. For exact reproducibility of previous results, set <code>adj = FALSE</code>. Setting <code>adj = TRUE</code> will not affect p-values and confidence intervals for <em>oneway clustering</em>, but the internally calculated t-stat, which is divided by <span class="math inline">$\sqrt{(N-k)/(N-1)}$</span>. For <em>twoway</em> clustering, it might affect the number and order of invalid bootstrapped t-statistics (due to non-positive definite covariance matrices) and, through this channel, affect bootstrapped inferential parameters.</p></li>
<li><p>Testing: unit tests are now run on <a href="https://github.com/s3alfisc/fwildclusterboot/actions/workflows/R-CMD-check.yaml">github actions</a> against <a href="https://github.com/s3alfisc/wildboottestjlr">wildboottestjlr</a>, which is a <a href="https://github.com/stefan-m-lenz/JuliaConnectoR">JuliaConnectoR</a> based wrapper around <a href="https://github.com/droodman/WildBootTests.jl">WildBootTests.jl</a>, a Julia implementation of the fast wild cluster bootstrap algorithm.</p></li>
<li><p>Additionally, minor speed tweaks.</p></li>
</ul>
</div>
    <div id="fwildclusterboot-051" class="section level1">
<h1 class="page-header" data-toc-text="0.5.1">
<a href="#fwildclusterboot-051" class="anchor"></a>fwildclusterboot 0.5.1<small> 2021-11-06 </small>
</h1>
<ul>
<li>Fixes a bug with Mammen weights introduced in version 0.5 -&gt; switch back to <code><a href="https://rdrr.io/r/base/sample.html">sample()</a></code> function. To guarantee reproducibilty with Mammen weights, either a seed needs to be specified in <code><a href="../reference/boottest.html">boottest()</a></code> or a global seed needs to be set via <code><a href="https://rdrr.io/r/base/Random.html">set.seed()</a></code>.</li>
<li>Deletes some unnecessary computations from boot_algo2() -&gt; speed improvements</li>
<li>For B = 2^(#number of clusters), Rademacher weights should have been enumerated - instead, they were drawn randomly and enumeration only occured for B &gt; 2^(#number of clusters). Now, enumeration occurs if B &gt;= 2^(#number of clusters).</li>
</ul>
</div>
    <div id="fwildclusterboot-05" class="section level1">
<h1 class="page-header" data-toc-text="0.5">
<a href="#fwildclusterboot-05" class="anchor"></a>fwildclusterboot 0.5<small> 2021-11-03 </small>
</h1>
<ul>
<li>Version 0.5 fixes an error for the bootstrap with weighted least squares introduced with version 0.4. All unit tests that compare fwildclusterboot with weighted least squares results from boottest.stata pass. In particular, enumerated cases pass with exact equality (in such cases, the bootstrap weights matrices are exactly identical in both R and Stata).</li>
<li>
<code><a href="../reference/boottest.html">boottest()</a></code> now stops if <code><a href="https://lrberge.github.io/fixest/reference/feols.html">fixest::feols()</a></code> deletes non-NA values (e.g. singleton fixed effects deletion) and asks the user to delete such rows prior to estimation via <code><a href="https://lrberge.github.io/fixest/reference/feols.html">feols()</a></code> &amp; <code><a href="../reference/boottest.html">boottest()</a></code>. Currently, <code>boottest()'s</code> pre-processing cannot handle such deletions - this remains future work.</li>
<li>To align <code>fwildclusterboot</code> with Stata’s boottest command (Roodman et al, 2019), Mammen weights are no longer enumerated in <code><a href="../reference/boottest.html">fwildclusterboot::boottest()</a></code>.</li>
<li>
<code><a href="../reference/boottest.html">boottest()</a></code> no longer sets an internal seed (previously set.seed(1)) if no seed is provided as a function argument.</li>
<li>Sampling of the bootstrap weights is now powered by the <code>dqrng</code> package, which speeds up the creation of the bootstrap weights matrix. To set a “global” seed, one now has use the <code><a href="https://daqana.github.io/dqrng/reference/dqrng-functions.html">dqset.seed()</a></code> function from the <code>dqrng package</code>, which is added as a dependency.</li>
</ul>
</div>
    <div id="fwilclusterboot-04" class="section level1">
<h1 class="page-header" data-toc-text="0.4">
<a href="#fwilclusterboot-04" class="anchor"></a>fwilclusterboot 0.4<small> 2021-10-08 </small>
</h1>
<ul>
<li>New feature I: <code><a href="../reference/boottest.html">boottest()</a></code> now allows for univariate tests that involve multiple variables. E.g. one can now test hypothesis as <code>var1 + var2 = c</code> where c is a scalar. More details on the syntax can be found in the vignette. All methods of for objects of class <code>boottest</code> have been updated.</li>
<li>New feature II: <code><a href="../reference/boottest.html">boottest()</a></code> now also supports “equal-tailed” p-values and one-sided hypotheses. For one-sided tests, confidence intervals are currently not supported.</li>
<li>Internal changes: To allow for multivariable tests, the <code><a href="../reference/boot_algo2.html">boot_algo2()</a></code> function has slightly been modified. <code>invert_p_val2()</code> is superseded by <code>invert_p_val()</code>.</li>
<li>Further, a CRAN error is fixed - some tests for exact equality failed with relative difference e-05 on openBLAS. In consequence, all exact tests are set to reltol = 1e-04.</li>
<li>Make better use of functionality of <code>dreamerr</code> package.</li>
</ul>
</div>
    <div id="fwildclusterboot-037" class="section level1">
<h1 class="page-header" data-toc-text="0.3.7">
<a href="#fwildclusterboot-037" class="anchor"></a>fwildclusterboot 0.3.7<small> 2021-09-14 </small>
</h1>
<ul>
<li>Bug fix: the output of <code><a href="../reference/boottest.html">boottest()</a></code> varied depending on the class of the input fixed effects for regressions both via <code><a href="https://rdrr.io/pkg/lfe/man/felm.html">lfe::felm()</a></code> and <code><a href="https://lrberge.github.io/fixest/reference/feols.html">fixest::feols()</a></code>. This bug occurred because <code><a href="../reference/boottest.html">boottest()</a></code> does not work with a pre-processed model.frame object from either <code><a href="https://rdrr.io/pkg/lfe/man/felm.html">felm()</a></code> or <code><a href="https://lrberge.github.io/fixest/reference/feols.html">feols()</a></code> but works with the original input data. While both <code><a href="https://rdrr.io/pkg/lfe/man/felm.html">felm()</a></code> and <code><a href="https://lrberge.github.io/fixest/reference/feols.html">feols()</a></code> change non-factor fixed effects variables to factors internally, <code><a href="../reference/boottest.html">boottest()</a></code> did not check but implicitely assumed that all fixed effects used in the regression models are indeed factors in the original data set. As a consequence, if one or more fixed effects were e.g. numeric, <code><a href="../reference/boottest.html">boottest()</a></code> would produce incorrect results without throwing an error. With version 0.3.7, <code><a href="../reference/boottest.html">boottest()</a></code> checks internally if all variables in the original data set which are used as fixed effects are factor variables and if not, changes them to factors. Thanks for timotheedotc for raising the issue on github, which can be found here: <a href="https://github.com/s3alfisc/fwildclusterboot/issues/14" class="uri">https://github.com/s3alfisc/fwildclusterboot/issues/14</a>.</li>
<li>Some tests have been added that compare output from <code><a href="../reference/boottest.html">boottest()</a></code> with the wild cluster bootstrap implemented via <code>clusterSEs</code>.</li>
</ul>
</div>
    <div id="fwildclusterboot-036" class="section level1">
<h1 class="page-header" data-toc-text="0.3.6">
<a href="#fwildclusterboot-036" class="anchor"></a>fwildclusterboot 0.3.6<small> 2021-08-01 </small>
</h1>
<ul>
<li>Bug fix regarding suggested packages and CRAN: <a href="https://github.com/s3alfisc/fwildclusterboot/issues/12">see github issue <a href='https://github.com/s3alfisc/fwildclusterboot/issues/12'>#12</a></a>. Added <code>if(requireNamespace("pkgname"))</code> statements for suggested packages in the vignettes, examples and tests. Note that unit tests will now only execute on CRAN if both <code>fixest</code> and <code>lfe</code> can be installed on the OS.</li>
</ul>
</div>
    <div id="fwildclusterboot-035" class="section level1">
<h1 class="page-header" data-toc-text="0.3.5">
<a href="#fwildclusterboot-035" class="anchor"></a>fwildclusterboot 0.3.5<small> 2021-06-20 </small>
</h1>
<ul>
<li><p>Bug fix: For Rademacher and Mammen weights and cases where (2^ number of clusters) &lt; # boostrap iterations, (deterministic ) full enumeration should have been employed for sampling the bootstrap weights. Full enumeration means the following: for e.g. 6 numbers of clusters, only 2^6 = 64 unique draws from either the Rademacher or Mammen distributions exists. Therefore, <code><a href="../reference/boottest.html">boottest()</a></code> overwrites the user-provided number of bootstrap iterations to <span class="math inline"><em>B</em> = (2^ number of clusters)</span> if a larger number is chosen. The bug now occured because the bootstrap weights were drawn <strong>randomly with replacement</strong> instead of using <strong>full enumeration</strong>. Note: full enumeration was introduced with version 0.3.3. Thanks to fschoner for finding the bug! <a href="https://github.com/s3alfisc/fwildclusterboot/issues/11">see github issue <a href='https://github.com/s3alfisc/fwildclusterboot/issues/11'>#11</a></a></p></li>
<li><p>Bug fix: A small bug has been fixed related to missing values in the cluster variables.</p></li>
<li><p>By default, <code><a href="../reference/boottest.html">boottest()</a></code> now sets an internal seed if no seed is provided by the user via the <code>seed</code> function argument.</p></li>
<li><p>Several improvements to the documentation.</p></li>
</ul>
</div>
    <div id="fwildclusterboot-034" class="section level1">
<h1 class="page-header" data-toc-text="0.3.4">
<a href="#fwildclusterboot-034" class="anchor"></a>fwildclusterboot 0.3.4<small> 2021-05-01 </small>
</h1>
<ul>
<li>Fix CRAN errors caused by a small bug in the vignette</li>
</ul>
</div>
    <div id="fwildclusterboot-033" class="section level1">
<h1 class="page-header" data-toc-text="0.3.3">
<a href="#fwildclusterboot-033" class="anchor"></a>fwildclusterboot 0.3.3<small> 2021-04-12 </small>
</h1>
<ul>
<li>implements full enumeration for Rademacher and Mammen Weights if <span class="math inline">2<sup><em>k</em></sup> &lt; <em>B</em></span>, where k is the number of clusters and B the number of bootstrap iterations</li>
</ul>
</div>
    <div id="fwildclusterboot-032" class="section level1">
<h1 class="page-header" data-toc-text="0.3.2">
<a href="#fwildclusterboot-032" class="anchor"></a>fwildclusterboot 0.3.2<small> 2021-02-26 </small>
</h1>
<ul>
<li>Fixes a CRAN test error message for Oracle Solaris.</li>
</ul>
</div>
    <div id="fwildclusterboot-031" class="section level1">
<h1 class="page-header" data-toc-text="0.3.1">
<a href="#fwildclusterboot-031" class="anchor"></a>fwildclusterboot 0.3.1<small> 2021-02-16 </small>
</h1>
<ul>
<li>A <code><a href="../reference/glance.boottest.html">glance.boottest()</a></code> method was added, which enables the use of the <code>modelsummary</code> package with <code>fwildclusterboot</code>.</li>
<li>The <code><a href="../reference/tidy.boottest.html">tidy.boottest()</a></code> method is no longer exported. You can still access it via <code>fwildclusterboot:::tidy.boottest()</code> or by loading the <code>generics</code> package via <code><a href="https://generics.r-lib.org">library(generics)</a></code>.</li>
</ul>
</div>
    <div id="fwildclusterboot-030" class="section level1">
<h1 class="page-header" data-toc-text="0.3.0">
<a href="#fwildclusterboot-030" class="anchor"></a>fwildclusterboot 0.3.0<small> Unreleased </small>
</h1>
<ul>
<li>Additional performance improvements through parallelization. By default, <code><a href="../reference/boottest.html">boottest()</a></code> uses half the available threads for parallel execution. The number of threads can be set via the <code>nthreads</code> function argument.</li>
<li>Additional function arguments for <code><a href="../reference/boottest.html">boottest()</a></code> - the user can now set the tolerance and maximum number of iterations for the calculation of confidence intervals. By default, <code>tol = 1e-6</code> and <code>maxiter = 10</code>.</li>
<li>The package no longer depends on <code>data.table</code> and <code>fabricatr</code> - both are now only suggested. Further, the package now comes with an example data set ‘voters’.</li>
</ul>
</div>
    <div id="fwildclusterboot-020" class="section level1">
<h1 class="page-header" data-toc-text="0.2.0">
<a href="#fwildclusterboot-020" class="anchor"></a>fwildclusterboot 0.2.0<small> Unreleased </small>
</h1>
<p>Add support for</p>
<ul>
<li>tests of two-sided, univariate hypotheses</li>
<li>regression weights</li>
<li>the subcluster bootstrap</li>
<li>restricted (WCR) and unrestricted (WCU) bootstrap</li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>

</div>


      <footer>
      <div class="copyright">
  <p>Developed by Alexander Fischer, David Roodman.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


