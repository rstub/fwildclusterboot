<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • fwildclusterboot</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="https://s3alfisc.github.io/fwildclusterboot/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">fwildclusterboot</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.8.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/fwildclusterboot.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/summary_tables.html">Summary Tables with `modelsummary`</a>
    <a class="dropdown-item" href="../articles/WildBootTests.html">WildBootTests.jl</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/s3alfisc/fwildclusterboot/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/s3alfisc/fwildclusterboot/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9" id="fwildclusterboot-09">fwildclusterboot 0.9<a class="anchor" aria-label="anchor" href="#fwildclusterboot-09"></a></h2>
<ul><li><p>v0.9 moves data pre-processing from <code>model.frame</code> methods to <code>model_matrix</code> methods.</p></li>
<li><p>This unlocks a range of new functionalities for <code><a href="../reference/boottest.html">boottest()</a></code> with <code>fixest</code> objects - it is now possible to run <code><a href="../reference/boottest.html">boottest()</a></code> after <code><a href="https://lrberge.github.io/fixest/reference/feols.html" class="external-link">feols()</a></code> models that use syntactic sugar, e.g. interacting fixed effects via <code>^</code></p></li>
</ul><pre><code><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://s3alfisc.github.io/fwildclusterboot/">fwildclusterboot</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lrberge.github.io/fixest/" class="external-link">fixest</a></span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">voters</span><span class="op">)</span>
<span class="va">feols_fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://lrberge.github.io/fixest/reference/feols.html" class="external-link">feols</a></span><span class="op">(</span><span class="va">proposition_vote</span> <span class="op">~</span> <span class="fu"><a href="https://lrberge.github.io/fixest/reference/i.html" class="external-link">i</a></span><span class="op">(</span><span class="va">treatment</span>, <span class="va">ideology1</span><span class="op">)</span> ,
    data <span class="op">=</span> <span class="va">voters</span>
<span class="op">)</span>
<span class="va">boot1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/boottest.html">boottest</a></span><span class="op">(</span><span class="va">feols_fit</span>,
    B <span class="op">=</span> <span class="fl">9999</span>,
    param <span class="op">=</span> <span class="st">"treatment::0:ideology1"</span>,
    clustid <span class="op">=</span> <span class="st">"group_id1"</span>
<span class="op">)</span>

<span class="va">feols_fits</span> <span class="op">&lt;-</span> <span class="fu">fixest</span><span class="fu">::</span><span class="fu"><a href="https://lrberge.github.io/fixest/reference/feols.html" class="external-link">feols</a></span><span class="op">(</span><span class="va">proposition_vote</span> <span class="op">~</span> <span class="va">treatment</span> <span class="op">|</span> <span class="fu"><a href="https://lrberge.github.io/fixest/reference/stepwise.html" class="external-link">sw</a></span><span class="op">(</span><span class="va">Q1_immigration</span>, <span class="va">Q2_defense</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">voters</span><span class="op">)</span>
<span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">feols_fits</span>, \<span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="../reference/boottest.html">boottest</a></span><span class="op">(</span><span class="va">x</span>, B <span class="op">=</span> <span class="fl">999</span>, param <span class="op">=</span> <span class="st">"treatment"</span>, clustid <span class="op">=</span> <span class="st">"group_id1"</span><span class="op">)</span><span class="op">)</span>  

<span class="va">voters</span><span class="op">$</span><span class="va">split</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">voters</span><span class="op">)</span>, <span class="cn">TRUE</span><span class="op">)</span>
<span class="va">feols_fits</span> <span class="op">&lt;-</span> <span class="fu">fixest</span><span class="fu">::</span><span class="fu"><a href="https://lrberge.github.io/fixest/reference/feols.html" class="external-link">feols</a></span><span class="op">(</span><span class="va">proposition_vote</span> <span class="op">~</span> <span class="va">treatment</span>, split <span class="op">=</span> <span class="op">~</span><span class="va">split</span>, data <span class="op">=</span> <span class="va">voters</span><span class="op">)</span>

<span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">feols_fits</span>, \<span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="../reference/boottest.html">boottest</a></span><span class="op">(</span><span class="va">x</span>, B <span class="op">=</span> <span class="fl">999</span>, param <span class="op">=</span> <span class="st">"treatment"</span>, clustid <span class="op">=</span> <span class="st">"group_id1"</span><span class="op">)</span><span class="op">)</span></code></pre>
<p>Some formula sugar still leads to errors, e.g. </p>
<pre><code><span class="va">feols_fit2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://lrberge.github.io/fixest/reference/feols.html" class="external-link">feols</a></span><span class="op">(</span><span class="va">proposition_vote</span> <span class="op">~</span> <span class="va">treatment</span> <span class="op">|</span> <span class="va">Q1_immigration</span><span class="op">^</span><span class="va">Q2_defense</span>,
    data <span class="op">=</span> <span class="va">voters</span>
<span class="op">)</span>

<span class="va">boot1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/boottest.html">boottest</a></span><span class="op">(</span><span class="va">feols_fit2</span>,
    B <span class="op">=</span> <span class="fl">9999</span>,
    param <span class="op">=</span> <span class="st">"treatment"</span>,
    clustid <span class="op">=</span> <span class="st">"group_id1"</span>
<span class="op">)</span></code></pre>
<ul><li><p>The release further fixes a multicollinearity bug that occured when <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm()</a></code> or <code><a href="https://lrberge.github.io/fixest/reference/fixest.html" class="external-link">fixest()</a></code> silently deleted multicollinar variable(s). Thanks to Kurt Schmidtheiny for reporting!</p></li>
<li><p>The <code>na_omit</code> function argument has been dropped. If the cluster variable is not included in the regression model, it is now not allowed to contain NA values.</p></li>
<li><p>Several function arguments can now be fed to <code><a href="../reference/boottest.html">boottest()</a></code> as formulas (<code>param</code>, <code>clustid</code>, <code>bootcluster</code>, <code>fe</code>).</p></li>
</ul><pre><code><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">voters</span><span class="op">)</span>
<span class="va">feols_fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://lrberge.github.io/fixest/reference/feols.html" class="external-link">feols</a></span><span class="op">(</span><span class="va">proposition_vote</span> <span class="op">~</span> <span class="va">treatment</span> ,
    data <span class="op">=</span> <span class="va">voters</span>
<span class="op">)</span>
<span class="va">boot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/boottest.html">boottest</a></span><span class="op">(</span><span class="va">feols_fit</span>,
    B <span class="op">=</span> <span class="fl">9999</span>,
    param <span class="op">=</span> <span class="op">~</span> <span class="va">treatment</span>,
    clustid <span class="op">=</span> <span class="op">~</span> <span class="va">group_id1</span>
<span class="op">)</span></code></pre>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.8" id="fwildclusterboot-08">fwildclusterboot 0.8<a class="anchor" aria-label="anchor" href="#fwildclusterboot-08"></a></h2><p class="text-muted">CRAN release: 2022-04-18</p>
<div class="section level4">
<h4 id="two-new-bootstrap-algorithms-wildboottestsjl-and-r-lean-0-8">Two new bootstrap algorithms: ‘WildBootTests.jl’ and ‘R-lean’<a class="anchor" aria-label="anchor" href="#two-new-bootstrap-algorithms-wildboottestsjl-and-r-lean-0-8"></a></h4>
<div class="section level5">
<h5 id="boot_algo--wildboottestsjl-0-8">boot_algo = ‘WildBootTests.jl’<a class="anchor" aria-label="anchor" href="#boot_algo--wildboottestsjl-0-8"></a></h5>
<ul><li>
<code>fwildclusterboot</code> now supports calling <a href="https://github.com/droodman/WildBootTests.jl" class="external-link">WildBootTests.jl</a>, which is a very fast Julia implementation of the wild cluster bootstrap algorithm. To do so, a new function argument is introduced, <code>boot_algo</code>, through which it is possible to control the executed bootstrap algorithm.</li></ul><pre class="{r}"><code><span class="co"># load data set voters included in fwildclusterboot</span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">voters</span><span class="op">)</span>
<span class="co"># estimate the regression model via lm</span>
<span class="va">lm_fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">proposition_vote</span> <span class="op">~</span> <span class="va">treatment</span> <span class="op">+</span> <span class="va">ideology1</span> <span class="op">+</span> <span class="va">log_income</span> <span class="op">+</span> <span class="va">Q1_immigration</span> , data <span class="op">=</span> <span class="va">voters</span><span class="op">)</span>
<span class="va">boot_lm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/boottest.html">boottest</a></span><span class="op">(</span>
  <span class="va">lm_fit</span>, 
  clustid <span class="op">=</span> <span class="st">"group_id1"</span>, 
  param <span class="op">=</span> <span class="st">"treatment"</span>, 
  B <span class="op">=</span> <span class="fl">9999</span>, 
  boot_algo <span class="op">=</span> <span class="st">"WildBootTests.jl"</span>
<span class="op">)</span></code></pre>
<ul><li><p>WildBootTests.jl is (after compilation) orders of magnitudes faster than <code>fwildclusterboot's</code> native R implementation, and speed gains are particularly pronounced for large problems with a large number of clusters and many bootstrap iterations.</p></li>
<li><p>Furthermore, <code>WildBootTests.jl</code> supports a range of models and tests that were previously not supported by <code>fwildclusterboot</code>: most importantly a) wild cluster bootstrap tests of multiple joint hypotheses and b) the WRE bootstrap by Davidson &amp; MacKinnon for instrumental variables estimation. On top of the cake … the WRE is really fast.</p></li>
</ul><pre class="{r}"><code><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://john-d-fox.github.io/ivreg/" class="external-link">ivreg</a></span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"SchoolingReturns"</span>, package <span class="op">=</span> <span class="st">"ivreg"</span><span class="op">)</span>
<span class="co"># drop all NA values from SchoolingReturns</span>
<span class="va">SchoolingReturns</span> <span class="op">&lt;-</span> <span class="va">SchoolingReturns</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/pkg/Matrix/man/colSums.html" class="external-link">rowMeans</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">SchoolingReturns</span>, <span class="va">is.na</span><span class="op">)</span><span class="op">)</span> <span class="op">==</span> <span class="fl">0</span>,<span class="op">]</span>
<span class="va">ivreg_fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://john-d-fox.github.io/ivreg//reference/ivreg.html" class="external-link">ivreg</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">wage</span><span class="op">)</span> <span class="op">~</span> <span class="va">education</span> <span class="op">+</span> <span class="va">age</span> <span class="op">+</span> <span class="va">ethnicity</span> <span class="op">+</span> <span class="va">smsa</span> <span class="op">+</span> <span class="va">south</span> <span class="op">+</span> <span class="va">parents14</span> <span class="op">|</span>
                           <span class="va">nearcollege</span> <span class="op">+</span> <span class="va">age</span>  <span class="op">+</span> <span class="va">ethnicity</span> <span class="op">+</span> <span class="va">smsa</span> <span class="op">+</span> <span class="va">south</span> <span class="op">+</span> <span class="va">parents14</span>, data <span class="op">=</span> <span class="va">SchoolingReturns</span><span class="op">)</span>

<span class="va">boot_ivreg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/boottest.html">boottest</a></span><span class="op">(</span>
  object <span class="op">=</span> <span class="va">ivreg_fit</span>,
  B <span class="op">=</span> <span class="fl">999</span>,
  param <span class="op">=</span> <span class="st">"education"</span>,
  clustid <span class="op">=</span> <span class="st">"kww"</span>,
  type <span class="op">=</span> <span class="st">"mammen"</span>,
  impose_null <span class="op">=</span> <span class="cn">TRUE</span>
<span class="op">)</span>
<span class="fu">generics</span><span class="fu">::</span><span class="fu"><a href="https://generics.r-lib.org/reference/tidy.html" class="external-link">tidy</a></span><span class="op">(</span><span class="va">boot_ivreg</span><span class="op">)</span>
<span class="co">#              term  estimate statistic   p.value    conf.low conf.high</span>
<span class="co"># 1 1*education = 0 0.0638822  1.043969 0.2482482 -0.03152655 0.2128746</span></code></pre>
<ul><li><p>For guidance on how to install and run <code>WildBooTests.jl</code>, have a look at the associated <a href="https://s3alfisc.github.io/fwildclusterboot/articles/WildBootTests.html">article</a>.</p></li>
<li><p>Also, note that running the wild cluster bootstrap through <code>WildBootTests.jl</code> is often very memory-efficient.</p></li>
</ul></div>
<div class="section level5">
<h5 id="boot_algo--r-lean-0-8">boot_algo = ‘R-lean’<a class="anchor" aria-label="anchor" href="#boot_algo--r-lean-0-8"></a></h5>
<p>A key limitation of the vectorized ‘fast’ cluster bootstrap algorithm as implemented in <code>fwildclusterboot</code> is that it is very memory-demanding. For ‘larger’ problems, running <code><a href="../reference/boottest.html">boottest()</a></code> might lead to out-of-memory errors. To offer an alternative, <code><a href="../reference/boottest.html">boottest()</a></code> now ships a ‘new’ rcpp- and loop-based implementation of the wild cluster bootstrap (the ‘wild2’ algorithm in Roodman et al).</p>
<pre class="{r}"><code><span class="va">boot_lm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/boottest.html">boottest</a></span><span class="op">(</span>
  <span class="va">lm_fit</span>, 
  clustid <span class="op">=</span> <span class="st">"group_id1"</span>, 
  param <span class="op">=</span> <span class="st">"treatment"</span>, 
  B <span class="op">=</span> <span class="fl">9999</span>, 
  boot_algo <span class="op">=</span> <span class="st">"R-lean"</span>
<span class="op">)</span></code></pre>
</div>
</div>
<div class="section level4">
<h4 id="heteroskeadstic-wild-bootstrap-0-8">Heteroskeadstic Wild Bootstrap<a class="anchor" aria-label="anchor" href="#heteroskeadstic-wild-bootstrap-0-8"></a></h4>
<p>It is now possible to run <code><a href="../reference/boottest.html">boottest()</a></code> without specifying a <code>clustid</code> function argument. In this case, <code><a href="../reference/boottest.html">boottest()</a></code> runs a heteroskedasticity-robust wild bootstrap (HC1), which is implemented in c++.</p>
<pre class="{r}"><code><span class="va">boot_hc1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/boottest.html">boottest</a></span><span class="op">(</span><span class="va">lm_fit</span>, param <span class="op">=</span> <span class="st">"treatment"</span>, B <span class="op">=</span> <span class="fl">9999</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">boot_hc1</span><span class="op">)</span></code></pre>
</div>
<div class="section level4">
<h4 id="boottest-function-argument-beta0-deprecated-0-8">
<code>boottest()</code> function argument <code>beta0</code> deprecated<a class="anchor" aria-label="anchor" href="#boottest-function-argument-beta0-deprecated-0-8"></a></h4>
<p>For consistency with <code>WildBootTests.jl</code>, the <code><a href="../reference/boottest.html">boottest()</a></code> function argument <code>beta0</code> is now replaced by a new function argument, <code>r</code>.</p>
</div>
<div class="section level4">
<h4 id="frühjahrsputz-0-8">Frühjahrsputz<a class="anchor" aria-label="anchor" href="#fr%C3%BChjahrsputz-0-8"></a></h4>
<p>I have spent some time to clean up <code>fwildclusterboot's</code> internals, which should now hopefully be more readable and easier to maintain.</p>
</div>
<div class="section level4">
<h4 id="testing-0-8">Testing<a class="anchor" aria-label="anchor" href="#testing-0-8"></a></h4>
<p><code>fwildclusterboot</code> is now pre-dominantly tested against <code>WildBootTests.jl</code>. Tests that depend on Julia are by default not run on CRAN, but are regularly run on Mac, Windows and Linux via <a href="https://github.com/s3alfisc/fwildclusterboot/actions/workflows/R-CMD-check.yaml" class="external-link">github actions</a>.</p>
</div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7" id="fwildclusterboot-07">fwildclusterboot 0.7<a class="anchor" aria-label="anchor" href="#fwildclusterboot-07"></a></h2><p class="text-muted">CRAN release: 2022-01-03</p>
<ul><li>Bug fixes, see issues <a href="https://github.com/s3alfisc/fwildclusterboot/issues/26" class="external-link">#26</a> and <a href="https://github.com/s3alfisc/fwildclusterboot/issues/27" class="external-link">#27</a> regarding preprocessing for fixest when weights are passed to feols() as a formula or when cluster is specified in fixest as a column vector.</li></ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6" id="fwildclusterboot-06">fwildclusterboot 0.6<a class="anchor" aria-label="anchor" href="#fwildclusterboot-06"></a></h2>
<ul><li><p>Bug fix: for one-sided hypotheses for the WRU bootstrap (if impose_null = FALSE), the returned p-values were incorrect - they were reported as ‘p’, but should have been ‘1-p’. E.g. if the reported p-values was reported as 0.4, it should have been reported as 0.6.</p></li>
<li><p>A new function argument <code>ssc</code> gives more control over the small sample adjustments made within <code><a href="../reference/boottest.html">boottest()</a></code>. It closely mirrors the <code>ssc</code> argument in <code>fixest</code>. The only difference is that <code>fwildclusterboot::boot_ssc()'s</code> <code>fixef.K</code> argument currently has only one option, <code>'none'</code>, which means that the fixed effect parameters are discarded when calculating the number of estimated parameters k. The default argument of <code><a href="../reference/boot_ssc.html">boot_ssc()</a></code> are <code>adj = TRUE, fixef.K = "none", cluster.adj = TRUE</code> and <code>cluster.df = "conventional"</code>. In fixest, the <code>cluster.df</code> argument is <code>"min"</code> by default. Prior to v 0.6, by default, no small sample adjustments regarding the sample size N and the number of estimated parameters k were applied. The changes in v0.6 may slightly affect the output of <code><a href="../reference/boottest.html">boottest()</a></code>. For exact reproducibility of previous results, set <code>adj = FALSE</code>. Setting <code>adj = TRUE</code> will not affect p-values and confidence intervals for <em>oneway clustering</em>, but the internally calculated t-stat, which is divided by <span class="math inline">$\sqrt{(N-k)/(N-1)}$</span>. For <em>twoway</em> clustering, it might affect the number and order of invalid bootstrapped t-statistics (due to non-positive definite covariance matrices) and, through this channel, affect bootstrapped inferential parameters.</p></li>
<li><p>Testing: unit tests are now run on <a href="https://github.com/s3alfisc/fwildclusterboot/actions/workflows/R-CMD-check.yaml" class="external-link">github actions</a> against <a href="https://github.com/s3alfisc/wildboottestjlr" class="external-link">wildboottestjlr</a>, which is a <a href="https://github.com/stefan-m-lenz/JuliaConnectoR" class="external-link">JuliaConnectoR</a> based wrapper around <a href="https://github.com/droodman/WildBootTests.jl" class="external-link">WildBootTests.jl</a>, a Julia implementation of the fast wild cluster bootstrap algorithm.</p></li>
<li><p>Additionally, minor speed tweaks.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.1" id="fwildclusterboot-051">fwildclusterboot 0.5.1<a class="anchor" aria-label="anchor" href="#fwildclusterboot-051"></a></h2><p class="text-muted">CRAN release: 2021-11-06</p>
<ul><li>Fixes a bug with Mammen weights introduced in version 0.5 -&gt; switch back to <code><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample()</a></code> function. To guarantee reproducibilty with Mammen weights, either a seed needs to be specified in <code><a href="../reference/boottest.html">boottest()</a></code> or a global seed needs to be set via <code><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed()</a></code>.</li>
<li>Deletes some unnecessary computations from boot_algo2() -&gt; speed improvements</li>
<li>For B = 2^(#number of clusters), Rademacher weights should have been enumerated - instead, they were drawn randomly and enumeration only occured for B &gt; 2^(#number of clusters). Now, enumeration occurs if B &gt;= 2^(#number of clusters).</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5" id="fwildclusterboot-05">fwildclusterboot 0.5<a class="anchor" aria-label="anchor" href="#fwildclusterboot-05"></a></h2><p class="text-muted">CRAN release: 2021-11-03</p>
<ul><li>Version 0.5 fixes an error for the bootstrap with weighted least squares introduced with version 0.4. All unit tests that compare fwildclusterboot with weighted least squares results from boottest.stata pass. In particular, enumerated cases pass with exact equality (in such cases, the bootstrap weights matrices are exactly identical in both R and Stata).</li>
<li>
<code><a href="../reference/boottest.html">boottest()</a></code> now stops if <code><a href="https://lrberge.github.io/fixest/reference/feols.html" class="external-link">fixest::feols()</a></code> deletes non-NA values (e.g. singleton fixed effects deletion) and asks the user to delete such rows prior to estimation via <code><a href="https://lrberge.github.io/fixest/reference/feols.html" class="external-link">feols()</a></code> &amp; <code><a href="../reference/boottest.html">boottest()</a></code>. Currently, <code>boottest()'s</code> pre-processing cannot handle such deletions - this remains future work.</li>
<li>To align <code>fwildclusterboot</code> with Stata’s boottest command (Roodman et al, 2019), Mammen weights are no longer enumerated in <code><a href="../reference/boottest.html">fwildclusterboot::boottest()</a></code>.</li>
<li>
<code><a href="../reference/boottest.html">boottest()</a></code> no longer sets an internal seed (previously set.seed(1)) if no seed is provided as a function argument.</li>
<li>Sampling of the bootstrap weights is now powered by the <code>dqrng</code> package, which speeds up the creation of the bootstrap weights matrix. To set a “global” seed, one now has use the <code>dqset.seed()</code> function from the <code>dqrng package</code>, which is added as a dependency.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.7" id="fwildclusterboot-037">fwildclusterboot 0.3.7<a class="anchor" aria-label="anchor" href="#fwildclusterboot-037"></a></h2><p class="text-muted">CRAN release: 2021-09-14</p>
<ul><li>Bug fix: the output of <code><a href="../reference/boottest.html">boottest()</a></code> varied depending on the class of the input fixed effects for regressions both via <code><a href="https://rdrr.io/pkg/lfe/man/felm.html" class="external-link">lfe::felm()</a></code> and <code><a href="https://lrberge.github.io/fixest/reference/feols.html" class="external-link">fixest::feols()</a></code>. This bug occurred because <code><a href="../reference/boottest.html">boottest()</a></code> does not work with a pre-processed model.frame object from either <code><a href="https://rdrr.io/pkg/lfe/man/felm.html" class="external-link">felm()</a></code> or <code><a href="https://lrberge.github.io/fixest/reference/feols.html" class="external-link">feols()</a></code> but works with the original input data. While both <code><a href="https://rdrr.io/pkg/lfe/man/felm.html" class="external-link">felm()</a></code> and <code><a href="https://lrberge.github.io/fixest/reference/feols.html" class="external-link">feols()</a></code> change non-factor fixed effects variables to factors internally, <code><a href="../reference/boottest.html">boottest()</a></code> did not check but implicitely assumed that all fixed effects used in the regression models are indeed factors in the original data set. As a consequence, if one or more fixed effects were e.g. numeric, <code><a href="../reference/boottest.html">boottest()</a></code> would produce incorrect results without throwing an error. With version 0.3.7, <code><a href="../reference/boottest.html">boottest()</a></code> checks internally if all variables in the original data set which are used as fixed effects are factor variables and if not, changes them to factors. Thanks for timotheedotc for raising the issue on github, which can be found here: <a href="https://github.com/s3alfisc/fwildclusterboot/issues/14" class="external-link uri">https://github.com/s3alfisc/fwildclusterboot/issues/14</a>.</li>
<li>Some tests have been added that compare output from <code><a href="../reference/boottest.html">boottest()</a></code> with the wild cluster bootstrap implemented via <code>clusterSEs</code>.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.6" id="fwildclusterboot-036">fwildclusterboot 0.3.6<a class="anchor" aria-label="anchor" href="#fwildclusterboot-036"></a></h2><p class="text-muted">CRAN release: 2021-08-01</p>
<ul><li>Bug fix regarding suggested packages and CRAN: <a href="https://github.com/s3alfisc/fwildclusterboot/issues/12" class="external-link">see github issue </a><a href="https://github.com/s3alfisc/fwildclusterboot/issues/12" class="external-link">#12</a>. Added <code>if(requireNamespace("pkgname"))</code> statements for suggested packages in the vignettes, examples and tests. Note that unit tests will now only execute on CRAN if both <code>fixest</code> and <code>lfe</code> can be installed on the OS.</li></ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.5" id="fwildclusterboot-035">fwildclusterboot 0.3.5<a class="anchor" aria-label="anchor" href="#fwildclusterboot-035"></a></h2><p class="text-muted">CRAN release: 2021-06-20</p>
<ul><li><p>Bug fix: For Rademacher and Mammen weights and cases where (2^ number of clusters) &lt; # boostrap iterations, (deterministic ) full enumeration should have been employed for sampling the bootstrap weights. Full enumeration means the following: for e.g. 6 numbers of clusters, only 2^6 = 64 unique draws from either the Rademacher or Mammen distributions exists. Therefore, <code><a href="../reference/boottest.html">boottest()</a></code> overwrites the user-provided number of bootstrap iterations to <span class="math inline"><em>B</em> = (2^ number of clusters)</span> if a larger number is chosen. The bug now occured because the bootstrap weights were drawn <strong>randomly with replacement</strong> instead of using <strong>full enumeration</strong>. Note: full enumeration was introduced with version 0.3.3. Thanks to fschoner for finding the bug! <a href="https://github.com/s3alfisc/fwildclusterboot/issues/11" class="external-link">see github issue </a><a href="https://github.com/s3alfisc/fwildclusterboot/issues/11" class="external-link">#11</a></p></li>
<li><p>Bug fix: A small bug has been fixed related to missing values in the cluster variables.</p></li>
<li><p>By default, <code><a href="../reference/boottest.html">boottest()</a></code> now sets an internal seed if no seed is provided by the user via the <code>seed</code> function argument.</p></li>
<li><p>Several improvements to the documentation.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.4" id="fwildclusterboot-034">fwildclusterboot 0.3.4<a class="anchor" aria-label="anchor" href="#fwildclusterboot-034"></a></h2><p class="text-muted">CRAN release: 2021-05-01</p>
<ul><li>Fix CRAN errors caused by a small bug in the vignette</li></ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.3" id="fwildclusterboot-033">fwildclusterboot 0.3.3<a class="anchor" aria-label="anchor" href="#fwildclusterboot-033"></a></h2><p class="text-muted">CRAN release: 2021-04-12</p>
<ul><li>implements full enumeration for Rademacher and Mammen Weights if <span class="math inline">2<sup><em>k</em></sup> &lt; <em>B</em></span>, where k is the number of clusters and B the number of bootstrap iterations</li></ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.2" id="fwildclusterboot-032">fwildclusterboot 0.3.2<a class="anchor" aria-label="anchor" href="#fwildclusterboot-032"></a></h2><p class="text-muted">CRAN release: 2021-02-26</p>
<ul><li>Fixes a CRAN test error message for Oracle Solaris.</li></ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.1" id="fwildclusterboot-031">fwildclusterboot 0.3.1<a class="anchor" aria-label="anchor" href="#fwildclusterboot-031"></a></h2><p class="text-muted">CRAN release: 2021-02-16</p>
<ul><li>A <code><a href="../reference/glance.boottest.html">glance.boottest()</a></code> method was added, which enables the use of the <code>modelsummary</code> package with <code>fwildclusterboot</code>.</li>
<li>The <code><a href="../reference/tidy.boottest.html">tidy.boottest()</a></code> method is no longer exported. You can still access it via <code>fwildclusterboot:::tidy.boottest()</code> or by loading the <code>generics</code> package via <code><a href="https://generics.r-lib.org" class="external-link">library(generics)</a></code>.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.0" id="fwildclusterboot-030">fwildclusterboot 0.3.0<a class="anchor" aria-label="anchor" href="#fwildclusterboot-030"></a></h2>
<ul><li>Additional performance improvements through parallelization. By default, <code><a href="../reference/boottest.html">boottest()</a></code> uses half the available threads for parallel execution. The number of threads can be set via the <code>nthreads</code> function argument.</li>
<li>Additional function arguments for <code><a href="../reference/boottest.html">boottest()</a></code> - the user can now set the tolerance and maximum number of iterations for the calculation of confidence intervals. By default, <code>tol = 1e-6</code> and <code>maxiter = 10</code>.</li>
<li>The package no longer depends on <code>data.table</code> and <code>fabricatr</code> - both are now only suggested. Further, the package now comes with an example data set ‘voters’.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.0" id="fwildclusterboot-020">fwildclusterboot 0.2.0<a class="anchor" aria-label="anchor" href="#fwildclusterboot-020"></a></h2>
<p>Add support for</p>
<ul><li>tests of two-sided, univariate hypotheses</li>
<li>regression weights</li>
<li>the subcluster bootstrap</li>
<li>restricted (WCR) and unrestricted (WCU) bootstrap</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Alexander Fischer, David Roodman.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

    </footer></div>

  

  

  </body></html>

